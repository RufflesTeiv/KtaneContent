<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Quadrados Coloridos — Módulo para Keep Talking and Nobody Explodes</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/ruleseed.js"></script>
    <script>
        let rules = [];

        function setRules(rnd)
        {
            let candidates = [ "Azuis", "Coluna", "Vermelhos", "Amarelos", "Linha", "Verdes", "Magenta" ];
            let rows = document.getElementsByClassName('rule-row');
            for (let i = 0; i < 15; i++)
            {
                if (i === 14)
                    candidates = [ "Coluna", "Linha", "Coluna", "Linha", "Coluna", "Linha", "Coluna" ];
                else
                    rnd.shuffleFisherYates(candidates);
                let tds = rows[i].getElementsByClassName('rule');
                for (let j = 0; j < tds.length; j++)
                {
                    tds[j].innerText = candidates[j];
                    tds[j].className = 'rule ' + candidates[j].toLowerCase();
                }
            }
            setLinks(`#${rnd.seed}`);
        }

        function setDefaultRules()
        {
            let list = document.getElementsByClassName('rule');
            for (let i = 0; i < list.length; i++)
                list[i].innerText = list[i].getAttribute('data-original');
            setLinks('');
        }

        function setLinks(hash)
        {
            document.querySelectorAll('.link > a').forEach(lnk => {
                lnk.setAttribute('href', /^(.*?)(#.*)?$/.exec(lnk.getAttribute('href'))[1] + hash);
            });
        }
    </script>
    <style>
        .vermelhos { color: hsla(0, 100%, 40%, 1); }
        .azuis { color: hsla(240, 100%, 40%, 1); }
        .verdes { color: green; }
        .amarelos { color: hsla(60, 100%, 40%, 1); }
        .magenta { color: hsla(300, 100%, 40%, 1); }
        .linha { color: gray; }
        tr:nth-child(2n+3) { background-color: rgba(255, 255, 0, 0.25); }
        .colored-squares {
            font-size: 10pt;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-04">
            <div class="page-header">
                <span class="page-header-doc-title">Mod para Keep Talking and Nobody Explodes</span>
                <span class="page-header-section-title">Quadrados Coloridos</span>
            </div>
            <div class="page-content">
                <img class="diagram" src="img/Component/Colored Squares.svg">
                <h2>A Respeito dos Quadrados <span class="vermelhos">C</span><span class="azuis">o</span><span class="verdes">l</span><span class="amarelos">o</span><span class="magenta">r</span><span class="linha">i</span>d<span class="vermelhos">o</span><span class="azuis">s</span></h2>
                <p class="flavour-text">Existe ordem em meio ao caos. Um padrão em meio às cores. Encontre-o, e tudo ficará claro.</p>
                <p class="appendix-reference" id="appendix-reference">Veja o <a href="Appendix SQUARE.html">Apêndice QUADRADO</a> para identificar módulos da família dos Quadrados Coloridos.</p>
                <ul>
                    <li>Pressione todos os quadrados no grupo correto para progredir no módulo.</li>
                    <li>Pressionar um quadrado vai fazer com que ele brilhe na cor branca. Deixe todos os quadrados brancos para desarmar o módulo.</li>
                    <li>Para começar, aperte o grupo de cores que contém a menor quantidade de quadrados. Se houver um empate, você está lidando com um módulo diferente. Consulte o apêndice acima.</li>
                    <li>Após isso, use a tabela para determinar o próximo grupo a ser pressionado em cada estágio.</li>
                    <li>"Grupo" refere-se a todos os quadrados de uma cor específica, ou todos os quadrados não-brancos, na linha mais ao topo ou na coluna mais à esquerda, que possuir quadrados não brancos.</li>
                    <li>Pressionar um quadrado incorreto faz o módulo recomeçar.</li>
                    <li>Quadrados brancos continuarão brancos até o módulo ser desarmado, mas quadrados não-brancos podem mudar de cor a cada estágio.</li>
                </ul>

                <table class="colored-squares">
                    <tr>
                        <th rowspan="2">Quadrados Brancos Atuais</th>
                        <th colspan="7">Último Grupo de Quadrados a Serem Pressionados</th>
                    </tr>
                    <tr><th class="vermelhos">Vermelhos</th><th class="azuis">Azuis</th><th class="verdes">Verdes</th><th class="amarelos">Amarelos</th><th class="magenta">Magenta</th><th class="linha">Linha</th><th class="coluna">Coluna</th></tr>
                    <tr class="rule-row"><th>1</th><td class="rule azuis" data-original="Azuis">Azuis</td><td class="rule" data-original="Coluna">Coluna</td><td class="rule vermelhos" data-original="Vermelhos">Vermelhos</td><td class="rule amarelos" data-original="Amarelos">Amarelos</td><td class="rule linha" data-original="Linha">Linha</td><td class="rule verdes" data-original="Verdes">Verdes</td><td class="rule magenta" data-original="Magenta">Magenta</td></tr>
                    <tr class="rule-row"><th>2</th><td class="rule linha" data-original="Linha">Linha</td><td class="rule verdes" data-original="Verdes">Verdes</td><td class="rule azuis" data-original="Azuis">Azuis</td><td class="rule magenta" data-original="Magenta">Magenta</td><td class="rule vermelhos" data-original="Vermelhos">Vermelhos</td><td class="rule" data-original="Coluna">Coluna</td><td class="rule amarelos" data-original="Amarelos">Amarelos</td></tr>
                    <tr class="rule-row"><th>3</th><td class="rule amarelos" data-original="Amarelos">Amarelos</td><td class="rule magenta" data-original="Magenta">Magenta</td><td class="rule verdes" data-original="Verdes">Verdes</td><td class="rule linha" data-original="Linha">Linha</td><td class="rule azuis" data-original="Azuis">Azuis</td><td class="rule vermelhos" data-original="Vermelhos">Vermelhos</td><td class="rule" data-original="Coluna">Coluna</td></tr>
                    <tr class="rule-row"><th>4</th><td class="rule azuis" data-original="Azuis">Azuis</td><td class="rule verdes" data-original="Verdes">Verdes</td><td class="rule amarelos" data-original="Amarelos">Amarelos</td><td class="rule" data-original="Coluna">Coluna</td><td class="rule vermelhos" data-original="Vermelhos">Vermelhos</td><td class="rule linha" data-original="Linha">Linha</td><td class="rule magenta" data-original="Magenta">Magenta</td></tr>
                    <tr class="rule-row"><th>5</th><td class="rule amarelos" data-original="Amarelos">Amarelos</td><td class="rule linha" data-original="Linha">Linha</td><td class="rule azuis" data-original="Azuis">Azuis</td><td class="rule magenta" data-original="Magenta">Magenta</td><td class="rule" data-original="Coluna">Coluna</td><td class="rule vermelhos" data-original="Vermelhos">Vermelhos</td><td class="rule verdes" data-original="Verdes">Verdes</td></tr>
                    <tr class="rule-row"><th>6</th><td class="rule magenta" data-original="Magenta">Magenta</td><td class="rule vermelhos" data-original="Vermelhos">Vermelhos</td><td class="rule amarelos" data-original="Amarelos">Amarelos</td><td class="rule verdes" data-original="Verdes">Verdes</td><td class="rule" data-original="Coluna">Coluna</td><td class="rule azuis" data-original="Azuis">Azuis</td><td class="rule linha" data-original="Linha">Linha</td></tr>
                    <tr class="rule-row"><th>7</th><td class="rule verdes" data-original="Verdes">Verdes</td><td class="rule linha" data-original="Linha">Linha</td><td class="rule" data-original="Coluna">Coluna</td><td class="rule azuis" data-original="Azuis">Azuis</td><td class="rule magenta" data-original="Magenta">Magenta</td><td class="rule amarelos" data-original="Amarelos">Amarelos</td><td class="rule vermelhos" data-original="Vermelhos">Vermelhos</td></tr>
                    <tr class="rule-row"><th>8</th><td class="rule magenta" data-original="Magenta">Magenta</td><td class="rule vermelhos" data-original="Vermelhos">Vermelhos</td><td class="rule verdes" data-original="Verdes">Verdes</td><td class="rule azuis" data-original="Azuis">Azuis</td><td class="rule amarelos" data-original="Amarelos">Amarelos</td><td class="rule" data-original="Coluna">Coluna</td><td class="rule linha" data-original="Linha">Linha</td></tr>
                    <tr class="rule-row"><th>9</th><td class="rule" data-original="Coluna">Coluna</td><td class="rule amarelos" data-original="Amarelos">Amarelos</td><td class="rule vermelhos" data-original="Vermelhos">Vermelhos</td><td class="rule verdes" data-original="Verdes">Verdes</td><td class="rule linha" data-original="Linha">Linha</td><td class="rule magenta" data-original="Magenta">Magenta</td><td class="rule azuis" data-original="Azuis">Azuis</td></tr>
                    <tr class="rule-row"><th>10</th><td class="rule verdes" data-original="Verdes">Verdes</td><td class="rule" data-original="Coluna">Coluna</td><td class="rule linha" data-original="Linha">Linha</td><td class="rule vermelhos" data-original="Vermelhos">Vermelhos</td><td class="rule magenta" data-original="Magenta">Magenta</td><td class="rule azuis" data-original="Azuis">Azuis</td><td class="rule amarelos" data-original="Amarelos">Amarelos</td></tr>
                    <tr class="rule-row"><th>11</th><td class="rule vermelhos" data-original="Vermelhos">Vermelhos</td><td class="rule amarelos" data-original="Amarelos">Amarelos</td><td class="rule linha" data-original="Linha">Linha</td><td class="rule" data-original="Coluna">Coluna</td><td class="rule verdes" data-original="Verdes">Verdes</td><td class="rule magenta" data-original="Magenta">Magenta</td><td class="rule azuis" data-original="Azuis">Azuis</td></tr>
                    <tr class="rule-row"><th>12</th><td class="rule" data-original="Coluna">Coluna</td><td class="rule azuis" data-original="Azuis">Azuis</td><td class="rule magenta" data-original="Magenta">Magenta</td><td class="rule vermelhos" data-original="Vermelhos">Vermelhos</td><td class="rule amarelos" data-original="Amarelos">Amarelos</td><td class="rule linha" data-original="Linha">Linha</td><td class="rule verdes" data-original="Verdes">Verdes</td></tr>
                    <tr class="rule-row"><th>13</th><td class="rule linha" data-original="Linha">Linha</td><td class="rule magenta" data-original="Magenta">Magenta</td><td class="rule" data-original="Coluna">Coluna</td><td class="rule amarelos" data-original="Amarelos">Amarelos</td><td class="rule azuis" data-original="Azuis">Azuis</td><td class="rule verdes" data-original="Verdes">Verdes</td><td class="rule vermelhos" data-original="Vermelhos">Vermelhos</td></tr>
                    <tr class="rule-row"><th>14</th><td class="rule vermelhos" data-original="Vermelhos">Vermelhos</td><td class="rule azuis" data-original="Azuis">Azuis</td><td class="rule magenta" data-original="Magenta">Magenta</td><td class="rule linha" data-original="Linha">Linha</td><td class="rule verdes" data-original="Verdes">Verdes</td><td class="rule amarelos" data-original="Amarelos">Amarelos</td><td class="rule" data-original="Coluna">Coluna</td></tr>
                    <tr class="rule-row"><th>15</th><td class="rule" data-original="Coluna">Coluna</td><td class="rule linha" data-original="Linha">Linha</td><td class="rule" data-original="Coluna">Coluna</td><td class="rule linha" data-original="Linha">Linha</td><td class="rule" data-original="Coluna">Coluna</td><td class="rule linha" data-original="Linha">Linha</td><td class="rule" data-original="Coluna">Coluna</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Página 1 de 1</div>
        </div>
    </div>
</body>
</html>
