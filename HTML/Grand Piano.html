<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Grand Piano — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        .red { color: red; }
        .gray { color: gray; }
        
        .section-reference { font-style: italic; }

        caption { text-decoration: underline; }
        table {
            margin: 1em auto;
            border: none;
            text-align: center;
        }

        div.main {
            margin-top: 3em;
            float: left;
            max-width: 70%;
        }
        div.controls {
            max-width: 25%;
            float: right;
        }

        div.card-table {
            max-width: 40%;
            float: left;
            margin-top: 3em;

            p { text-align: center; }
        }
        div.completion-tables {
            max-width: 60%;
            float: right;
            
            p { text-align: center; }
        }
        table.card-table { font-size: 20px; }
        .completion-table { font-size: 14pt; }
        .completion-completion-table { font-size: 12pt; }
        
        p:has(+ .ref-image) {
            margin-bottom: 0.2em
        }
        .ref-image {
            position: relative;
            width: 95%;
        }
        .page-footer::before { content: 'Page '; }
        .page-footer::after { content: ' of 3'; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Grand Piano</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Grand Piano.svg" class="diagram">
                <h2>On the Subject of the Grand Piano</h2>
                <p class="flavour-text">What the hell do I do with this grand piano?<br>You tell me.</p>

                <div class="main">
                    <p>
                        This module contains an entire grand piano. To solve the module the correct sequence of notes must be played.
                        See <span class="appendix-reference">Piano Reference</span> if you’re unfamiliar with where keys are on the piano.
                    </p>
                    <p>
                        There will be 5 different sets* of notes given by the module.
                        See <span class="section-reference">Controls</span> on the right for more information on how to manipulate the look of the module.
                        These sets of notes will be given a blue tint on the module.
                    </p>
                    <p>
                        In each of the first 4 sets, 4 tinted white keys represent playing cards. See <span class="section-reference">Card Table</span> below to convert the notes to their card counterparts.
                        These 4 cards form an incomplete Poker hand. A tinted black key is used to complete the Poker hand. Use <span class="section-reference">Completion Table</span> to convert these notes to a rule.
                        Use these rules to find the cards that finish these hands. Convert these cards back to get the first 4 notes, in order, in the initial sequence.
                    </p>
                    <p>
                        *The 5th set consists of only a single tinted black key. Use this note to complete a new Poker hand consisting of the cards used to finish the previous Poker hands.
                        Convert this card back to get the final note in the initial sequence.
                    </p>
                    <p>
                        Once the initial sequence of 5 keys is obtained, use the <span class="section-reference">Completion Completion Table</span> to modify these keys to create your final sequence of keys.
                        The position used in this table will be in the same position you used in the <span class="section-reference">Completion Table</span> to complete the initial sequence.
                    </p>
                    <p>Press these keys, in order, to solve the module. A strike will require re-entry of the entire note sequence. The solution will not change.</p>
                </div>

                <div class="controls">
                    <h3>Controls</h3>
                    <p>
                        Press the <b class="controls">spacebar</b> to stretch the module to 7 times its normal size, or reset it back to its normal size if it’s already stretched.
                        This is <em>not</em> required to solve the module.
                    </p>
                    <p>
                        Press <b class="controls">W</b> or <b class="controls">S</b> to move the module away or towards the bomb in case any adjacent modules are obstructing your view.
                        Press <b class="controls">R</b> to reset the module to its initial position.
                    </p>
                    <p>
                        Press <b class="controls">1</b>, <b class="controls">2</b>, <b class="controls">3</b>, <b class="controls">4</b>, or <b class="controls">5</b>
                        to view the corresponding set of notes on the piano, all other number keys will reset the look of the piano to its initial state.
                    </p>
                </div>
            </div>
            <div class="page-footer relative-footer">1</div>
        </div>

        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Grand Piano</span>
            </div>
            <div class="page-content">
                <div class="card-table">
                    <table class="card-table">
                        <caption>Card Table</caption>
                        <tr><td class="corner"></td><td class="gray">♠</td><td class="red">♥</td><td class="gray">♣</td><td class="red">♦</td></tr>
                        <tr><td>A</td><td>A<sub>0</sub></td><td>G<sub>2</sub></td><td>F<sub>4</sub></td><td>E<sub>6</sub></td></tr>
                        <tr><td>2</td><td>G<sub>7</sub></td><td>C<sub>2</sub></td><td>B<sub>3</sub></td><td>A<sub>5</sub></td></tr>
                        <tr><td>3</td><td>C<sub>7</sub></td><td>F<sub>1</sub></td><td>E<sub>3</sub></td><td>D<sub>5</sub></td></tr>
                        <tr><td>4</td><td>F<sub>6</sub></td><td>B<sub>0</sub></td><td>A<sub>2</sub></td><td>G<sub>4</sub></td></tr>
                        <tr><td>5</td><td>B<sub>5</sub></td><td>A<sub>7</sub></td><td>D<sub>2</sub></td><td>C<sub>4</sub></td></tr>
                        <tr><td>6</td><td>E<sub>5</sub></td><td>D<sub>7</sub></td><td>G<sub>1</sub></td><td>F<sub>3</sub></td></tr>
                        <tr><td>7</td><td>A<sub>4</sub></td><td>G<sub>6</sub></td><td>C<sub>1</sub></td><td>B<sub>2</sub></td></tr>
                        <tr><td>8</td><td>D<sub>4</sub></td><td>C<sub>6</sub></td><td>B<sub>7</sub></td><td>E<sub>2</sub></td></tr>
                        <tr><td>9</td><td>G<sub>3</sub></td><td>F<sub>5</sub></td><td>E<sub>7</sub></td><td>A<sub>1</sub></td></tr>
                        <tr><td>10</td><td>C<sub>3</sub></td><td>B<sub>4</sub></td><td>A<sub>6</sub></td><td>D<sub>1</sub></td></tr>
                        <tr><td>J</td><td>F<sub>2</sub></td><td>E<sub>4</sub></td><td>D<sub>6</sub></td><td>C<sub>8</sub></td></tr>
                        <tr><td>Q</td><td>B<sub>1</sub></td><td>A<sub>3</sub></td><td>G<sub>5</sub></td><td>F<sub>7</sub></td></tr>
                        <tr><td>K</td><td>E<sub>1</sub></td><td>D<sub>3</sub></td><td>C<sub>5</sub></td><td>B<sub>6</sub></td></tr>
                    </table>

                    <p>See <span class="section-reference">Completion Completion Codes</span> to convert the symbol sets to the required modifications to the initial note sequence.</p>
                </div>

                <div class="completion-tables">
                    <table class="completion-table">
                        <caption>Completion Table</caption>
                        <tr><td>K<sub>0</sub></td><td class="corner" colspan="4"></td><td>4K</td></tr>
                        <tr><td>K<sub>1</sub></td><td>2P(<span class="gray">♠</span>)</td><td>FH(<span class="red">♥</span>)</td><td>P(<span class="gray">♠</span>)</td><td>FH(<span class="red">♦</span>)</td><td>3K(<span class="gray">♣</span>)</td></tr>
                        <tr><td>K<sub>2</sub></td><td>F(2)</td><td>P(<span class="red">♦</span>)</td><td>F(3)</td><td>P(<span class="red">♥</span>)</td><td>F(4)</td></tr>
                        <tr><td>K<sub>3</sub></td><td>2P(<span class="red">♥</span>)</td><td>F(A)</td><td>P(<span class="gray">♣</span>)</td><td>F(J)</td><td>3K(<span class="red">♦</span>)</td></tr>
                        <tr><td>K<sub>4</sub></td><td>F(5)</td><td>RF</td><td>F(10)</td><td>SF</td><td>F(6)</td></tr>
                        <tr><td>K<sub>5</sub></td><td>2P(<span class="gray">♣</span>)</td><td>F(Q)</td><td>S(<span class="red">♦</span>)</td><td>F(K)</td><td>3K(<span class="gray">♠</span>)</td></tr>
                        <tr><td>K<sub>6</sub></td><td>F(7)</td><td>S(<span class="gray">♠</span>)</td><td>F(8)</td><td>S(<span class="gray">♣</span>)</td><td>F(9)</td></tr>
                        <tr><td>K<sub>7</sub></td><td>2P(<span class="red">♦</span>)</td><td>FH(<span class="gray">♣</span>)</td><td>S(<span class="red">♥</span>)</td><td>FH(<span class="gray">♠</span>)</td><td>3K(<span class="red">♥</span>)</td></tr>
                        <tr><td class="corner"></td><td>C♯ D♭</td><td>D♯ E♭</td><td>F♯ G♭</td><td>G♯ A♭</td><td>A♯ B♭</td></tr>
                    </table>

                    <p>See <span class="section-reference">Completion List</span> to convert the abbreviations to the type of hand you must complete. If present, you must finish the hand by using the suit or rank inside parenthesis.</p>

                    <table class="completion-completion-table">
                        <caption>Completion Completion Table</caption>
                        <tr><td>K<sub>0</sub></td><td class="corner" colspan="4"></td><td>234 ♭</td></tr>
                        <tr><td>K<sub>1</sub></td><td>123 ♯♭</td><td>1..4 ♯♭</td><td>234 ♯♭</td><td>2..5 ♯♭</td><td>345 ♯♭</td></tr>
                        <tr><td>K<sub>2</sub></td><td>12 ♭</td><td>12 ♯♭</td><td>123 ♭</td><td>12 ♭♯</td><td>23 ♭</td></tr>
                        <tr><td>K<sub>3</sub></td><td>23 ♯♭</td><td>12 ♯</td><td>123 ♯</td><td>23 ♯</td><td>23 ♭♯</td></tr>
                        <tr><td>K<sub>4</sub></td><td>1..4 ♭</td><td>1..4 ♯</td><td>234 ♯</td><td>2..5 ♯</td><td>2..5 ♭</td></tr>
                        <tr><td>K<sub>5</sub></td><td>34 ♯♭</td><td>34 ♯</td><td>345 ♯</td><td>45 ♯</td><td>34 ♭♯</td></tr>
                        <tr><td>K<sub>6</sub></td><td>34 ♭</td><td>45 ♯♭</td><td>345 ♭</td><td>45 ♭♯</td><td>45 ♭</td></tr>
                        <tr><td>K<sub>7</sub></td><td>123 ♭♯</td><td>1..4 ♭♯</td><td>234 ♭♯</td><td>2..5 ♭♯</td><td>345 ♭♯</td></tr>
                        <tr><td class="corner"></td><td>C♯ D♭</td><td>D♯ E♭</td><td>F♯ G♭</td><td>G♯ A♭</td><td>A♯ B♭</td></tr>
                    </table>
                </div>
            </div>
            <div class="page-footer relative-footer">2</div>
        </div>

        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Grand Piano</span>
            </div>
            <div class="page-content">
                <h3>Completion List</h3>
                <ul>
                    <li>RF = Royal Flush - Ranks A, 10, J, Q, K of the same suit</li>
                    <li>SF = Straight Flush - 5 consecutive ranks of the same suit</li>
                    <li>4K = Four of a Kind - 4 cards of the same rank</li>
                    <li>FH = Full House - 3 cards of the same rank and 2 cards of another rank</li>
                    <li>F = Flush - 5 cards of the same suit</li>
                    <li>S = Straight - 5 consecutive ranks of any suit</li>
                    <li>3K = Three of a Kind - 3 cards of the same rank</li>
                    <li>2P = Two Pairs - 2 cards of the same rank and 2 cards of another rank</li>
                    <li>
                        P = Pair - 2 cards of the same rank
                        <ul><li>Both cards in a Pair must have suits which are the same color</li></ul>
                    </li>
                </ul>

                <h3>Completion Completion Codes</h3>
                <ul>
                    <li>The numbers in the code are the indexes of the initial sequence which can be modified, in order.
                        <ul>
                            <li>“1..4” is treated as “1234”.</li>
                            <li>“2..5” is treated as “2345”.</li>
                        </ul>
                    </li>
                    <li>
                        The symbols in the code tell you which symbol you must add to that note in the sequence.
                        <ul>
                            <li>If this key does not exist, do not change the note.</li>
                            <li>
                                If multiple symbols are present, alternate the symbols, starting with the leftmost.
                                <ul><li>This still occurs even if prior notes don’t change.</li></ul>
                            </li>
                        </ul>
                    </li>
                </ul>

                <h3>Piano Reference</h3>
                <p>The brackets for each octave are shown on the module for convenience.</p>
                <img src="img/Grand Piano/Reference.svg" class="ref-image">
            </div>
            <div class="page-footer relative-footer">3</div>
        </div>
    </div>
</body>
</html>